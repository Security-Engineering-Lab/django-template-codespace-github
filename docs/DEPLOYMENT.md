

–¶—è –ø–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–∞—î —Ç–æ–º—É, —â–æ —É –≤–∞—à—ñ–π Azure DevOps –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤ –¥–ª—è Microsoft-hosted pipelines. –û—Å—å –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è:

## üÜì **–†—ñ—à–µ–Ω–Ω—è 1: –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**

### **–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É Microsoft:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º: https://aka.ms/azpipelines-parallelism-request
2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –∑ —Ç–∞–∫–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é:
   - **Organization name:** –Ω–∞–∑–≤–∞ –≤–∞—à–æ—ó Azure DevOps –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó
   - **Project name:** –Ω–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É
   - **Business justification:** "Learning and development purposes" –∞–±–æ "Open source project"
   - **Contact information:** –≤–∞—à–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞

### **–©–æ –≤–∫–∞–∑–∞—Ç–∏ –≤ —Ñ–æ—Ä–º—ñ:**
```
Business Justification:
"I am using Azure DevOps for educational purposes to learn CI/CD practices 
and Django deployment. This is a personal learning project to understand 
Azure DevOps pipelines and Azure App Service deployment."
```

**‚è±Ô∏è –ß–∞—Å —Ä–æ–∑–≥–ª—è–¥—É:** –∑–∞–∑–≤–∏—á–∞–π 2-3 —Ä–æ–±–æ—á—ñ –¥–Ω—ñ

---

## üîÑ **–†—ñ—à–µ–Ω–Ω—è 2: –¢–∏–º—á–∞—Å–æ–≤–µ –æ–±—Ö—ñ–¥–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è - Self-hosted –∞–≥–µ–Ω—Ç**

### **–°—Ç–≤–æ—Ä—ñ—Ç—å self-hosted –∞–≥–µ–Ω—Ç –Ω–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ:**

**–ö—Ä–æ–∫ 1: –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞–≥–µ–Ω—Ç**
1. Azure DevOps ‚Üí Project Settings ‚Üí Agent pools
2. Default pool ‚Üí New agent
3. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞–≥–µ–Ω—Ç –¥–ª—è –≤–∞—à–æ—ó –û–°

**–ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≥–µ–Ω—Ç**
```bash
# Linux/macOS
mkdir myagent && cd myagent
tar zxvf ~/Downloads/vsts-agent-linux-x64-*.tar.gz
./config.sh

# Windows (PowerShell)
mkdir agent ; cd agent
Add-Type -AssemblyName System.IO.Compression.FileSystem
[System.IO.Compression.ZipFile]::ExtractToDirectory("$HOME\Downloads\vsts-agent-win-x64-*.zip", "$PWD")
.\config.cmd
```

**–ö—Ä–æ–∫ 3: –û–Ω–æ–≤—ñ—Ç—å YAML —Ñ–∞–π–ª**---


## üí∞ **–†—ñ—à–µ–Ω–Ω—è 3: –ü–ª–∞—Ç–Ω–∞ –æ–ø—Ü—ñ—è (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–µ–≥–∞–π–Ω–æ)**

### **–ü—Ä–∏–¥–±–∞–π—Ç–µ Microsoft-hosted parallelism:**
1. Azure DevOps ‚Üí Organization settings ‚Üí Billing
2. Set up billing ‚Üí Microsoft-hosted CI/CD
3. –ö—É–ø—ñ—Ç—å 1 parallel job (~$40/–º—ñ—Å—è—Ü—å)

---

## üéØ **–†—ñ—à–µ–Ω–Ω—è 4: –°–ø—Ä–æ—â–µ–Ω–∏–π pipeline —Ç—ñ–ª—å–∫–∏ –¥–ª—è deployment**

### **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π YAML –±–µ–∑ —Å–∫–ª–∞–¥–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫:**---

```yaml

# Minimal Django Pipeline - No parallelism required
name: Django-Simple-Deploy-$(Date:yyyyMMdd)$(Rev:.r)

trigger:
- main

variables:
  pythonVersion: '3.11'
  azureServiceConnection: 'azure-production'  # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à—É –Ω–∞–∑–≤—É
  webAppName: 'django-template-prod'          # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à—É –Ω–∞–∑–≤—É
  resourceGroupName: 'rg-django-template'

# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ª–∏—à–µ –æ–¥–∏–Ω stage –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤
stages:
- stage: BuildAndDeploy
  displayName: 'Build and Deploy Django App'
  jobs:
  - job: BuildDeployJob
    timeoutInMinutes: 30
    steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '$(pythonVersion)'
      displayName: 'Use Python $(pythonVersion)'

    - script: |
        echo "üêç Installing dependencies..."
        python -m pip install --upgrade pip
        pip install -r requirements.txt
      displayName: 'Install dependencies'

    - script: |
        echo "‚úÖ Basic Django check..."
        python manage.py check
      displayName: 'Django check'

    - script: |
        echo "üì¶ Collecting static files..."
        python manage.py collectstatic --noinput
      displayName: 'Collect static files'

    - task: ArchiveFiles@2
      displayName: 'Create deployment package'
      inputs:
        rootFolderOrFile: '$(System.DefaultWorkingDirectory)'
        includeRootFolder: false
        archiveType: zip
        archiveFile: $(Build.ArtifactStagingDirectory)/app.zip
        replaceExistingArchive: true

    - task: AzureCLI@2
      displayName: 'Create Azure resources'
      inputs:
        azureSubscription: $(azureServiceConnection)
        scriptType: 'bash'
        scriptLocation: 'inlineScript'
        inlineScript: |
          # Create resources if they don't exist
          az group create --name $(resourceGroupName) --location "East US" || true
          az appservice plan create --name asp-$(webAppName) --resource-group $(resourceGroupName) --sku F1 --is-linux || true
          az webapp create --name $(webAppName) --resource-group $(resourceGroupName) --plan asp-$(webAppName) --runtime "PYTHON|3.11" || true

    - task: AzureWebApp@1
      displayName: 'Deploy to Azure App Service'
      inputs:
        azureSubscription: $(azureServiceConnection)
        appType: 'webAppLinux'
        appName: $(webAppName)
        package: $(Build.ArtifactStagingDirectory)/app.zip
        runtimeStack: 'PYTHON|3.11'
        startUpCommand: 'gunicorn --bind=0.0.0.0 --timeout 600 hello_world.wsgi'

    - script: |
        echo "üéâ Deployment completed!"
        echo "üåê Your app should be available at: https://$(webAppName).azurewebsites.net"
      displayName: 'Deployment summary'

```

## üöÄ **–†—ñ—à–µ–Ω–Ω—è 5: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–π—Ç–µ GitHub Actions (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**

### **–Ø–∫—â–æ Azure DevOps parallelism –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ GitHub Actions:**

**–°—Ç–≤–æ—Ä—ñ—Ç—å `.github/workflows/deploy.yml`:**
```yaml
name: Deploy Django to Azure

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'
    
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
    
    - name: Deploy to Azure Web App
      uses: azure/webapps-deploy@v2
      with:
        app-name: 'your-app-name'
        publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
```

---

## ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø–ª–∞–Ω –¥—ñ–π:**

1. **üÜì –ù–µ–≥–∞–π–Ω–æ:** –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
2. **‚ö° –¢–∏–º—á–∞—Å–æ–≤–æ:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π pipeline (—è–∫—â–æ —É –≤–∞—Å —î 1 –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ —Ö–≤–∏–ª–∏–Ω–∞)
3. **üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ self-hosted –∞–≥–µ–Ω—Ç
4. **üìû –ó–≤'—è–∑–æ–∫:** –ü—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø–æ–≤–Ω–æ–≥–æ pipeline

**–Ø–∫–µ —Ä—ñ—à–µ–Ω–Ω—è –≤–∏ —Ö–æ—á–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É?** –Ø –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –±—É–¥—å-—è–∫–∏–º —ñ–∑ —Ü–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤!
-----------------------------------------------------------------------------------------------------------------------------------------------------

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ –Ω–∞–≤—ñ—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π pipeline –ø–æ—Ç—Ä–µ–±—É—î hosted –∞–≥–µ–Ω—Ç–∞. –£ –≤–∞—Å —î **0 —Ö–≤–∏–ª–∏–Ω** –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ —á–∞—Å—É –¥–ª—è Microsoft-hosted –∞–≥–µ–Ω—Ç—ñ–≤. –û—Å—å –∫—ñ–ª—å–∫–∞ —Ä—ñ—à–µ–Ω—å:

## üîß **–†—ñ—à–µ–Ω–Ω—è 1: Self-hosted –∞–≥–µ–Ω—Ç (–ù–∞–π—à–≤–∏–¥—à–µ)**

### **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≥–µ–Ω—Ç –Ω–∞ –≤–∞—à–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ:**

**–ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–≥–µ–Ω—Ç pool**
1. Azure DevOps ‚Üí Project Settings ‚Üí Agent pools
2. Add pool ‚Üí New ‚Üí Self-hosted
3. –ù–∞–∑–≤—ñ—Ç—å –π–æ–≥–æ `MyPool`

**–ö—Ä–æ–∫ 2: –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≥–µ–Ω—Ç**

**–î–ª—è Windows:**
```powershell
# –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É
mkdir C:\agent
cd C:\agent

# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞–≥–µ–Ω—Ç –∑ Azure DevOps UI –∞–±–æ –Ω–∞–ø—Ä—è–º—É
# Azure DevOps ‚Üí Agent pools ‚Üí MyPool ‚Üí New agent ‚Üí Download

# –†–æ–∑–ø–∞–∫—É–π—Ç–µ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ
.\config.cmd
# –í–≤–µ–¥—ñ—Ç—å:
# Server URL: https://dev.azure.com/[your-organization]
# Authentication type: PAT
# Personal access token: [—Å—Ç–≤–æ—Ä—ñ—Ç—å PAT –≤ User Settings]
# Agent pool: MyPool
# Agent name: MyAgent
# Work folder: _work

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∞–≥–µ–Ω—Ç
.\run.cmd
```

**–î–ª—è Linux/macOS:**
```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É
mkdir ~/agent && cd ~/agent

# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∞–≥–µ–Ω—Ç (–∑–∞–º—ñ–Ω—ñ—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑ Azure DevOps UI)
wget https://vstsagentpackage.azureedge.net/agent/3.232.3/vsts-agent-linux-x64-3.232.3.tar.gz
tar zxvf vsts-agent-linux-x64-3.232.3.tar.gz

# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ
./config.sh
# –í–≤–µ–¥—ñ—Ç—å —Ç—ñ –∂ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —â–æ –π –¥–ª—è Windows

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å
./run.sh
```

**–ö—Ä–æ–∫ 3: –û–Ω–æ–≤—ñ—Ç—å YAML —Ñ–∞–π–ª**---

```yaml

# Minimal Django Pipeline - No parallelism required
name: Django-Simple-Deploy-$(Date:yyyyMMdd)$(Rev:.r)

trigger:
- main

variables:
  pythonVersion: '3.11'
  azureServiceConnection: 'azure-production'  # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à—É –Ω–∞–∑–≤—É
  webAppName: 'django-template-prod'          # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à—É –Ω–∞–∑–≤—É
  resourceGroupName: 'rg-django-template'

# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ª–∏—à–µ –æ–¥–∏–Ω stage –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤
stages:
- stage: BuildAndDeploy
  displayName: 'Build and Deploy Django App'
  jobs:
  - job: BuildDeployJob
    pool:
      name: 'MyPool'  # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ self-hosted –∞–≥–µ–Ω—Ç
    timeoutInMinutes: 30
    steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '$(pythonVersion)'
      displayName: 'Use Python $(pythonVersion)'

    - script: |
        echo "üêç Installing dependencies..."
        python -m pip install --upgrade pip
        pip install -r requirements.txt
      displayName: 'Install dependencies'

    - script: |
        echo "‚úÖ Basic Django check..."
        python manage.py check
      displayName: 'Django check'

    - script: |
        echo "üì¶ Collecting static files..."
        python manage.py collectstatic --noinput
      displayName: 'Collect static files'

    - task: ArchiveFiles@2
      displayName: 'Create deployment package'
      inputs:
        rootFolderOrFile: '$(System.DefaultWorkingDirectory)'
        includeRootFolder: false
        archiveType: zip
        archiveFile: $(Build.ArtifactStagingDirectory)/app.zip
        replaceExistingArchive: true

    - task: AzureCLI@2
      displayName: 'Create Azure resources'
      inputs:
        azureSubscription: $(azureServiceConnection)
        scriptType: 'bash'
        scriptLocation: 'inlineScript'
        inlineScript: |
          # Create resources if they don't exist
          az group create --name $(resourceGroupName) --location "East US" || true
          az appservice plan create --name asp-$(webAppName) --resource-group $(resourceGroupName) --sku F1 --is-linux || true
          az webapp create --name $(webAppName) --resource-group $(resourceGroupName) --plan asp-$(webAppName) --runtime "PYTHON|3.11" || true

    - task: AzureWebApp@1
      displayName: 'Deploy to Azure App Service'
      inputs:
        azureSubscription: $(azureServiceConnection)
        appType: 'webAppLinux'
        appName: $(webAppName)
        package: $(Build.ArtifactStagingDirectory)/app.zip
        runtimeStack: 'PYTHON|3.11'
        startUpCommand: 'gunicorn --bind=0.0.0.0 --timeout 600 hello_world.wsgi'

    - script: |
        echo "üéâ Deployment completed!"
        echo "üåê Your app should be available at: https://$(webAppName).azurewebsites.net"
      displayName: 'Deployment summary'

```


## üéØ **–†—ñ—à–µ–Ω–Ω—è 2: GitHub Actions (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**

–Ø–∫—â–æ Azure DevOps —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–±–ª–µ–º–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ GitHub Actions (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ):**–î–ª—è GitHub Actions –ø–æ—Ç—Ä—ñ–±–Ω–æ:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ Azure Web App
2. –û—Ç—Ä–∏–º–∞—Ç–∏ Publish Profile
3. –î–æ–¥–∞—Ç–∏ –π–æ–≥–æ —è–∫ GitHub Secret

---

## üÜì **–†—ñ—à–µ–Ω–Ω—è 3: Azure CLI –ª–æ–∫–∞–ª—å–Ω–æ**


```bash
#!/bin/bash

# Azure CLI Deployment Script for Django
# –í–∏–∫–æ–Ω–∞–π—Ç–µ —Ü–µ–π —Å–∫—Ä–∏–ø—Ç –ª–æ–∫–∞–ª—å–Ω–æ –ø—ñ—Å–ª—è git clone

echo "üöÄ Starting Django deployment to Azure..."

# –ó–º—ñ–Ω–Ω—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
RESOURCE_GROUP="rg-django-template"
LOCATION="East US"
APP_SERVICE_PLAN="asp-django-template"
WEB_APP_NAME="django-template-prod-$(date +%s)"  # –£–Ω—ñ–∫–∞–ª—å–Ω–∞ –Ω–∞–∑–≤–∞
SKU="F1"  # –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å

echo "üìã Configuration:"
echo "   Resource Group: $RESOURCE_GROUP"
echo "   Web App Name: $WEB_APP_NAME"
echo "   Location: $LOCATION"

# –ö—Ä–æ–∫ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
echo "üîê Checking Azure login..."
az account show &> /dev/null || {
    echo "Please login to Azure:"
    az login
}

# –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
echo "üèóÔ∏è Creating Azure resources..."

# –°—Ç–≤–æ—Ä—é—î–º–æ Resource Group
echo "   Creating resource group..."
az group create \
    --name $RESOURCE_GROUP \
    --location "$LOCATION" \
    --output table

# –°—Ç–≤–æ—Ä—é—î–º–æ App Service Plan
echo "   Creating App Service Plan..."
az appservice plan create \
    --name $APP_SERVICE_PLAN \
    --resource-group $RESOURCE_GROUP \
    --sku $SKU \
    --is-linux \
    --output table

# –°—Ç–≤–æ—Ä—é—î–º–æ Web App
echo "   Creating Web App..."
az webapp create \
    --name $WEB_APP_NAME \
    --resource-group $RESOURCE_GROUP \
    --plan $APP_SERVICE_PLAN \
    --runtime "PYTHON|3.11" \
    --output table

# –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É
echo "‚öôÔ∏è Configuring Web App..."
az webapp config appsettings set \
    --name $WEB_APP_NAME \
    --resource-group $RESOURCE_GROUP \
    --settings \
        DJANGO_SETTINGS_MODULE="hello_world.settings" \
        DJANGO_DEBUG="False" \
        SCM_DO_BUILD_DURING_DEPLOYMENT="true" \
    --output table

# –ö—Ä–æ–∫ 4: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∫–æ–¥—É
echo "üì¶ Deploying application..."

# –°—Ç–≤–æ—Ä—é—î–º–æ ZIP –∞—Ä—Ö—ñ–≤
echo "   Creating deployment package..."
zip -r app.zip . -x "*.git*" "*__pycache__*" "*.pyc" "venv/*" "*.md"

# –†–æ–∑–≥–æ—Ä—Ç–∞—î–º–æ —á–µ—Ä–µ–∑ ZIP deploy
echo "   Uploading to Azure..."
az webapp deployment source config-zip \
    --name $WEB_APP_NAME \
    --resource-group $RESOURCE_GROUP \
    --src app.zip

# –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è startup –∫–æ–º–∞–Ω–¥–∏
echo "üîß Setting startup command..."
az webapp config set \
    --name $WEB_APP_NAME \
    --resource-group $RESOURCE_GROUP \
    --startup-file "gunicorn --bind=0.0.0.0 --timeout 600 hello_world.wsgi"

# –ö—Ä–æ–∫ 6: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
echo "üè• Health check..."
APP_URL="https://$WEB_APP_NAME.azurewebsites.net"

echo "   Waiting for app to start..."
sleep 90

echo "   Testing connection..."
HTTP_STATUS=$(curl -s -o /dev/null -w "%{http_code}" $APP_URL || echo "000")

if [ "$HTTP_STATUS" -eq 200 ]; then
    echo "‚úÖ Deployment successful!"
    echo "üåê Your Django app is running at: $APP_URL"
    echo "üìä Resource Group: $RESOURCE_GROUP"
    echo "üè∑Ô∏è App Name: $WEB_APP_NAME"
else
    echo "‚ö†Ô∏è Health check returned HTTP $HTTP_STATUS"
    echo "üîç Check logs with:"
    echo "   az webapp log tail --name $WEB_APP_NAME --resource-group $RESOURCE_GROUP"
    echo "üåê App URL: $APP_URL"
fi

# –û—á–∏—â–µ–Ω–Ω—è
rm -f app.zip

echo "üéâ Deployment script completed!"
echo ""
echo "üìù Useful commands:"
echo "   View logs: az webapp log tail --name $WEB_APP_NAME --resource-group $RESOURCE_GROUP"
echo "   Restart app: az webapp restart --name $WEB_APP_NAME --resource-group $RESOURCE_GROUP"
echo "   Delete resources: az group delete --name $RESOURCE_GROUP --yes --no-wait"
```


### **–†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞–ø—Ä—è–º—É –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞:****–Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
```bash
# –ó—Ä–æ–±—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x deploy-to-azure.sh

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
./deploy-to-azure.sh
```

---

## ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**

### **üéØ –ù–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –≤–∞—Å:**

1. **–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–≤—á–∏—Ç–∏ Azure DevOps:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ self-hosted –∞–≥–µ–Ω—Ç (–†—ñ—à–µ–Ω–Ω—è 1)
2. **–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —à–≤–∏–¥–∫–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Azure CLI —Å–∫—Ä–∏–ø—Ç (–†—ñ—à–µ–Ω–Ω—è 3)
3. **–Ø–∫—â–æ –≤—ñ–¥–¥–∞—î—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É GitHub:** –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ GitHub Actions (–†—ñ—à–µ–Ω–Ω—è 2)

### **üîÑ –¢–∏–º—á–∞—Å–æ–≤–æ:**
- –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ parallelism
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –æ–¥–∏–Ω –∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤

**–Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Ö–æ—á–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏?** –Ø –¥–æ–ø–æ–º–æ–∂—É –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º –±—É–¥—å-—è–∫–æ–≥–æ –∑ –Ω–∏—Ö!


-------------------------------------------------------------------------------------------------------------------------------------------------



----------------------------------------------------------------------------------------


–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ —É –≤–∞—à—ñ–π Azure –ø—ñ–¥–ø–∏—Å—Ü—ñ **–Ω–µ–º–∞—î –∫–≤–æ—Ç–∏ –¥–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö VM** (Free tier). –û—Å—å —Ä—ñ—à–µ–Ω–Ω—è:

## üö® **–û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞:**
```
Current Limit (Free VMs): 0
Amount required for this deployment (Free VMs): 1
```

## üîß **–†—ñ—à–µ–Ω–Ω—è:**

### **–í–∞—Ä—ñ–∞–Ω—Ç 1: –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –∫–≤–æ—Ç–∏ (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—Ç–æ—á–Ω—ñ –∫–≤–æ—Ç–∏
az vm list-usage --location "East US" --output table

# –ó–∞–ø—Ä–æ—Å—ñ—Ç—å –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –∫–≤–æ—Ç–∏ —á–µ—Ä–µ–∑ Azure Portal
```

**–ö—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ Azure Portal:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://portal.azure.com
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **"Help + support"**
3. **"New support request"**
4. **Issue type:** Service and subscription limits (quotas)
5. **Quota type:** Compute-VM (cores-vCPUs) subscription limit increases
6. **Request:** Free tier VM quota increase to 1

---

### **–í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–ª–∞—Ç–Ω–∏–π tier (B1 Basic)**### **–í–∞—Ä—ñ–∞–Ω—Ç 3: –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —ñ–Ω—à–∏–π —Ä–µ–≥—ñ–æ–Ω**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ä–µ–≥—ñ–æ–Ω–∏
az account list-locations --output table

# –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à—ñ —Ä–µ–≥—ñ–æ–Ω–∏ –¥–µ –º–æ–∂–µ –±—É—Ç–∏ –∫–≤–æ—Ç–∞
LOCATION="West US 2"  # –∞–±–æ "Central US", "West Europe"
```

---

### **–í–∞—Ä—ñ–∞–Ω—Ç 4: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Azure Container Instances (–¥–µ—à–µ–≤—à–µ)**---

```bash
#!/bin/bash

# Deploy Django to Azure Container Instances (cheaper alternative)
echo "üöÄ Deploying Django to Azure Container Instances..."

RESOURCE_GROUP="rg-django-container"
LOCATION="East US"
CONTAINER_NAME="django-container-$(date +%s)"
IMAGE_NAME="django-app"

echo "üìã Configuration:"
echo "   Resource Group: $RESOURCE_GROUP"
echo "   Container Name: $CONTAINER_NAME"
echo "   Cost: ~$3-5/month"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Dockerfile
cat > Dockerfile << 'EOF'
FROM python:3.12-slim

WORKDIR /app

# Install system dependencies
RUN apt-get update && apt-get install -y \
    gcc \
    && rm -rf /var/lib/apt/lists/*

# Copy requirements and install Python dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
RUN pip install gunicorn

# Copy application code
COPY . .

# Collect static files
RUN python manage.py collectstatic --noinput

# Expose port
EXPOSE 8000

# Run the application
CMD ["gunicorn", "--bind", "0.0.0.0:8000", "--timeout", "600", "hello_world.wsgi"]
EOF

echo "üê≥ Building Docker image..."
docker build -t $IMAGE_NAME .

# Login to Azure
az login --use-device-code

# Create resource group
az group create --name $RESOURCE_GROUP --location "$LOCATION"

# Create Azure Container Registry
ACR_NAME="acrdjango$(date +%s | tail -c 6)"
az acr create --resource-group $RESOURCE_GROUP --name $ACR_NAME --sku Basic

# Login to ACR
az acr login --name $ACR_NAME

# Tag and push image
docker tag $IMAGE_NAME $ACR_NAME.azurecr.io/$IMAGE_NAME:latest
docker push $ACR_NAME.azurecr.io/$IMAGE_NAME:latest

# Create container instance
az container create \
    --resource-group $RESOURCE_GROUP \
    --name $CONTAINER_NAME \
    --image $ACR_NAME.azurecr.io/$IMAGE_NAME:latest \
    --cpu 1 \
    --memory 1 \
    --registry-login-server $ACR_NAME.azurecr.io \
    --registry-username $(az acr credential show --name $ACR_NAME --query username -o tsv) \
    --registry-password $(az acr credential show --name $ACR_NAME --query passwords[0].value -o tsv) \
    --ip-address public \
    --ports 8000 \
    --environment-variables DJANGO_DEBUG=False

# Get public IP
CONTAINER_IP=$(az container show --resource-group $RESOURCE_GROUP --name $CONTAINER_NAME --query ipAddress.ip --output tsv)

echo "‚úÖ Container deployed!"
echo "üåê Your Django app: http://$CONTAINER_IP:8000"
echo "üí∞ Monthly cost: ~$3-5"
```











## ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ—ó:**

### **üéØ –ù–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è:**

1. **–ó–∞–ø—Ä–æ—Å—ñ—Ç—å –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –∫–≤–æ—Ç–∏** —á–µ—Ä–µ–∑ Azure Portal
2. **–¢–∏–º—á–∞—Å–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Basic tier** (~$13/–º—ñ—Å—è—Ü—å)
3. **–í–∏–¥–∞–ª—ñ—Ç—å —Ä–µ—Å—É—Ä—Å–∏** –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### **üí° –®–≤–∏–¥–∫–µ —Ä—ñ—à–µ–Ω–Ω—è:**

```bash
# –í–∏–¥–∞–ª—ñ—Ç—å –ø–æ—Ç–æ—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
az group delete --name rg-django-template --yes --no-wait

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Basic tier
chmod +x deploy-basic-tier.sh
./deploy-basic-tier.sh
```

### **üîç –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–≤–æ—Ç–∏:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—Ç–æ—á–Ω—ñ –ª—ñ–º—ñ—Ç–∏
az vm list-usage --location "East US" --output table
az vm list-usage --location "West US 2" --output table
```

**–Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –æ–±–µ—Ä–µ—Ç–µ?** Basic tier –¥–∞—Å—Ç—å –≤–∞–º –ø–æ–≤–Ω–∏–π –¥–æ—Å–≤—ñ–¥ Azure App Service –∑–∞ –Ω–µ–≤–µ–ª–∏–∫—É –ø–ª–∞—Ç—É (~$13/–º—ñ—Å—è—Ü—å), —è–∫—É –º–æ–∂–Ω–∞ —Å–∫–∞—Å—É–≤–∞—Ç–∏ –ø—ñ—Å–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è.







----------------------------------------------------------------------------------------------
–ü—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ —â–µ —Ç–∞ —Å–∞–º–∞ - Azure CLI –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –î–∞–≤–∞–π—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –π–æ–≥–æ —Å–ø–æ—á–∞—Ç–∫—É:

## üîß **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Azure CLI**

### **–í–∏–∫–æ–Ω–∞–π—Ç–µ —Ü—ñ –∫–æ–º–∞–Ω–¥–∏:**

```bash
# 1. –û–Ω–æ–≤—ñ—Ç—å —Å–∏—Å—Ç–µ–º—É
sudo apt-get update

# 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
sudo apt-get install ca-certificates curl apt-transport-https lsb-release gnupg -y

# 3. –°—Ç–≤–æ—Ä—ñ—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –¥–ª—è –∫–ª—é—á—ñ–≤
sudo mkdir -p /etc/apt/keyrings

# 4. –î–æ–¥–∞–π—Ç–µ Microsoft GPG –∫–ª—é—á
curl -sLS https://packages.microsoft.com/keys/microsoft.asc | \
    gpg --dearmor | \
    sudo tee /etc/apt/keyrings/microsoft.gpg > /dev/null

sudo chmod go+r /etc/apt/keyrings/microsoft.gpg

# 5. –î–æ–¥–∞–π—Ç–µ Azure CLI —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
AZ_REPO=$(lsb_release -cs)
echo "deb [arch=`dpkg --print-architecture` signed-by=/etc/apt/keyrings/microsoft.gpg] https://packages.microsoft.com/repos/azure-cli/ $AZ_REPO main" | \
    sudo tee /etc/apt/sources.list.d/azure-cli.list

# 6. –û–Ω–æ–≤—ñ—Ç—å —ñ–Ω–¥–µ–∫—Å –ø–∞–∫–µ—Ç—ñ–≤ —ñ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Azure CLI
sudo apt-get update
sudo apt-get install azure-cli -y

# 7. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
az --version
```

### **–ê–±–æ —à–≤–∏–¥–∫–∏–π —Å–ø–æ—Å—ñ–± –æ–¥–Ω–æ—é –∫–æ–º–∞–Ω–¥–æ—é:**

```bash
curl -sL https://aka.ms/InstallAzureCli | sudo bash
```

---

## ‚úÖ **–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:**

### **1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Azure CLI:**
```bash
az --version
which az
```

### **2. –£–≤—ñ–π–¥—ñ—Ç—å –≤ Azure:**
```bash
az login --use-device-code
```

### **3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–∞–Ω–æ–≤–æ:**
```bash
./deploy-basic-tier.sh
```

---

## üöÄ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± —á–µ—Ä–µ–∑ Azure Cloud Shell:**

–Ø–∫—â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–µ –ø—Ä–∞—Ü—é—î, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Azure Cloud Shell:

### **1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Azure Portal:**
- –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://portal.azure.com
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å —ñ–∫–æ–Ω–∫—É Cloud Shell (>_) —É –≤–µ—Ä—Ö–Ω—ñ–π –ø–∞–Ω–µ–ª—ñ

### **2. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤–∞—à –∫–æ–¥:**
```bash
# –£ Cloud Shell
git clone https://github.com/Security-Engineering-Lab/django-template-codespace-github.git
cd django-template-codespace-github
```

### **3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:**
```bash
chmod +x deploy-basic-tier.sh
./deploy-basic-tier.sh
```

---

## üîß **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é Azure CLI:**## ‚úÖ **–í–∏–∫–æ–Ω–∞–π—Ç–µ:**

### **1. –°–ø–æ—á–∞—Ç–∫—É –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Azure CLI:**
```bash
sudo apt-get update && sudo apt-get install azure-cli -y
```

### **2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:**
```bash
az --version
```

### **3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –Ω–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç:**
```bash
chmod +x deploy-with-cli-install.sh
./deploy-with-cli-install.sh
```

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Azure CLI —è–∫—â–æ –π–æ–≥–æ –Ω–µ–º–∞—î, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ–Ω–∞—î —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è. **–Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Å–ø—Ä–æ–±—É—î—Ç–µ?**



-----------------------------------------------------------------------------


–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ —É –≤–∞—à—ñ–π Azure –ø—ñ–¥–ø–∏—Å—Ü—ñ **—Ç–∞–∫–æ–∂ –Ω–µ–º–∞—î –∫–≤–æ—Ç–∏ –¥–ª—è Basic tier VM**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –æ–±–∏–¥–≤—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ –º–∞—é—Ç—å –ª—ñ–º—ñ—Ç 0 –¥–ª—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏—Ö –º–∞—à–∏–Ω.

## üö® **–ü—Ä–æ–±–ª–µ–º–∞:**
```
Current Limit (Basic VMs): 0
Amount required for this deployment (Basic VMs): 1
```

## üîß **–†—ñ—à–µ–Ω–Ω—è:**

### **–í–∞—Ä—ñ–∞–Ω—Ç 1: –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à—É –ø—ñ–¥–ø–∏—Å–∫—É**

–£ –≤–∞—Å —î –¥–æ—Å—Ç—É–ø –¥–æ –¥–≤–æ—Ö –ø—ñ–¥–ø–∏—Å–æ–∫:
- **Azure subscription 1** (–ø–æ—Ç–æ—á–Ω–∞) - –±–µ–∑ –∫–≤–æ—Ç–∏
- **Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è** - –º–æ–∂–µ –º–∞—Ç–∏ –∫–≤–æ—Ç—É

```bash
# –ü–µ—Ä–µ–∫–ª—é—á—ñ—Ç—å—Å—è –Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—É –ø—ñ–¥–ø–∏—Å–∫—É
az account set --subscription "826d896f-b844-48c3-998e-c8e36c27e681"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–≤–æ—Ç–∏ –≤ —Ü—ñ–π –ø—ñ–¥–ø–∏—Å—Ü—ñ
az vm list-usage --location "East US" --output table

# –°–ø—Ä–æ–±—É–π—Ç–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑–Ω–æ–≤—É
./deploy-with-cli-install.sh
```

---

### **–í–∞—Ä—ñ–∞–Ω—Ç 2: –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π —Ä–µ–≥—ñ–æ–Ω**### **–í–∞—Ä—ñ–∞–Ω—Ç 3: Azure Static Web Apps (–ë–ï–ó–ö–û–®–¢–û–í–ù–û!)**## ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ—ó:**


```bash
#!/bin/bash

echo "üöÄ Django deployment with multiple region attempts..."

# –°–ø–∏—Å–æ–∫ —Ä–µ–≥—ñ–æ–Ω—ñ–≤ –¥–ª—è —Å–ø—Ä–æ–±–∏
REGIONS=("West US 2" "Central US" "West Europe" "East US 2" "South Central US")
RESOURCE_GROUP="rg-django-template"
APP_SERVICE_PLAN="asp-django-template"
WEB_APP_NAME="django-template-$(date +%s)"
SKU="F1"  # –°–ø—Ä–æ–±—É—î–º–æ –∑–Ω–æ–≤—É Free tier

echo "üìã Configuration:"
echo "   Resource Group: $RESOURCE_GROUP"
echo "   Web App Name: $WEB_APP_NAME"
echo "   SKU: $SKU (Free tier)"

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é
if ! az account show &> /dev/null; then
    echo "Please login to Azure:"
    az login --use-device-code
fi

# –ü–µ—Ä–µ–∫–ª—é—á–∞—î–º–æ—Å—è –Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—É –ø—ñ–¥–ø–∏—Å–∫—É
echo "üîÑ Switching to student subscription..."
az account set --subscription "826d896f-b844-48c3-998e-c8e36c27e681"

SUBSCRIPTION=$(az account show --query name -o tsv)
echo "üìä Using subscription: $SUBSCRIPTION"

# –í–∏–¥–∞–ª—è—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
echo "üßπ Cleaning up previous resources..."
az group delete --name $RESOURCE_GROUP --yes --no-wait 2>/dev/null || echo "No previous resources"
sleep 20

# –°–ø—Ä–æ–±—É—î–º–æ –∫–æ–∂–µ–Ω —Ä–µ–≥—ñ–æ–Ω
for LOCATION in "${REGIONS[@]}"; do
    echo ""
    echo "üåç Trying region: $LOCATION"
    
    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–≤–æ—Ç–∏ –≤ —Ü—å–æ–º—É —Ä–µ–≥—ñ–æ–Ω—ñ
    echo "   Checking quotas..."
    QUOTA_CHECK=$(az vm list-usage --location "$LOCATION" --query "[?name.value=='standardDSv3Family'].{current:currentValue,limit:limit}" --output tsv 2>/dev/null)
    
    if [ $? -eq 0 ]; then
        echo "   Quota check passed for $LOCATION"
        
        # –°—Ç–≤–æ—Ä—é—î–º–æ resource group
        echo "   Creating resource group..."
        if az group create --name $RESOURCE_GROUP --location "$LOCATION" --output table; then
            
            # –°–ø—Ä–æ–±—É—î–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ App Service Plan
            echo "   Creating App Service Plan..."
            if az appservice plan create \
                --name $APP_SERVICE_PLAN \
                --resource-group $RESOURCE_GROUP \
                --sku $SKU \
                --is-linux \
                --output table; then
                
                echo "‚úÖ Success in $LOCATION! Continuing with deployment..."
                
                # –°—Ç–≤–æ—Ä—é—î–º–æ Web App
                echo "   Creating Web App..."
                az webapp create \
                    --name $WEB_APP_NAME \
                    --resource-group $RESOURCE_GROUP \
                    --plan $APP_SERVICE_PLAN \
                    --runtime "PYTHON|3.12" \
                    --output table
                
                # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
                echo "   Configuring Web App..."
                az webapp config appsettings set \
                    --name $WEB_APP_NAME \
                    --resource-group $RESOURCE_GROUP \
                    --settings \
                        DJANGO_SETTINGS_MODULE="hello_world.settings" \
                        DJANGO_DEBUG="False" \
                        SCM_DO_BUILD_DURING_DEPLOYMENT="true" \
                    --output table
                
                # –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–¥—É
                echo "üì¶ Preparing deployment..."
                python manage.py collectstatic --noinput
                
                zip -r deployment.zip . \
                    -x "*.git*" "*__pycache__*" "*.pyc" "venv/*" "env/*" \
                       "*.md" ".devcontainer/*" "docs/*" "*.log" \
                       "deployment.zip" "*deploy*.sh"
                
                # –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
                echo "üöÄ Deploying..."
                az webapp deploy \
                    --name $WEB_APP_NAME \
                    --resource-group $RESOURCE_GROUP \
                    --src-path deployment.zip \
                    --type zip
                
                # Startup –∫–æ–º–∞–Ω–¥–∞
                az webapp config set \
                    --name $WEB_APP_NAME \
                    --resource-group $RESOURCE_GROUP \
                    --startup-file "gunicorn --bind=0.0.0.0 --timeout 600 hello_world.wsgi"
                
                # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
                az webapp restart \
                    --name $WEB_APP_NAME \
                    --resource-group $RESOURCE_GROUP
                
                # Health check
                APP_URL="https://$WEB_APP_NAME.azurewebsites.net"
                echo "üè• Health check..."
                sleep 90
                
                HTTP_STATUS=$(curl -s -o /dev/null -w "%{http_code}" $APP_URL --connect-timeout 30 || echo "000")
                
                if [ "$HTTP_STATUS" -eq 200 ]; then
                    echo "‚úÖ Deployment successful!"
                    echo "üåê Your Django app: $APP_URL"
                    echo "üìç Region: $LOCATION"
                    echo "üí∞ Cost: FREE (F1 tier)"
                    rm -f deployment.zip
                    exit 0
                else
                    echo "‚ö†Ô∏è Health check failed: HTTP $HTTP_STATUS"
                fi
                
                rm -f deployment.zip
                break
                
            else
                echo "‚ùå Failed to create App Service Plan in $LOCATION"
                # –í–∏–¥–∞–ª—è—î–º–æ resource group —ñ —Å–ø—Ä–æ–±—É—î–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä–µ–≥—ñ–æ–Ω
                az group delete --name $RESOURCE_GROUP --yes --no-wait 2>/dev/null
                continue
            fi
        else
            echo "‚ùå Failed to create resource group in $LOCATION"
            continue
        fi
    else
        echo "‚ö†Ô∏è Quota check failed for $LOCATION"
        continue
    fi
done

echo ""
echo "‚ùå All regions failed. Possible solutions:"
echo "1. Request quota increase: https://portal.azure.com ‚Üí Support ‚Üí New support request"
echo "2. Try different subscription with available quota"
echo "3. Use Azure Container Instances instead"

```


### **üéØ –°–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ç–∞–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É:**

1. **–ü–µ—Ä–µ–∫–ª—é—á—ñ—Ç—å—Å—è –Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—É –ø—ñ–¥–ø–∏—Å–∫—É —ñ —Å–ø—Ä–æ–±—É–π—Ç–µ —Ä—ñ–∑–Ω—ñ —Ä–µ–≥—ñ–æ–Ω–∏:**
```bash
chmod +x deploy-multi-region.sh
./deploy-multi-region.sh
```

2. **–Ø–∫—â–æ —Ü–µ –Ω–µ —Å–ø—Ä–∞—Ü—é—î, –∑–∞–ø—Ä–æ—Å—ñ—Ç—å –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –∫–≤–æ—Ç–∏:**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://portal.azure.com
   - **Support** ‚Üí **New support request**
   - **Issue type:** Service and subscription limits (quotas)
   - **Quota type:** Compute-VM (cores-vCPUs)
   - –ó–∞–ø—Ä–æ—Å—ñ—Ç—å 1 Free tier VM

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - Azure Static Web Apps (–ë–ï–ó–ö–û–®–¢–û–í–ù–û):**
```bash
chmod +x deploy-static-web-app.sh
./deploy-static-web-app.sh
```


```bash
#!/bin/bash

echo "üöÄ Deploying Django to Azure Static Web Apps (FREE!)"

RESOURCE_GROUP="rg-django-static"
STATIC_APP_NAME="django-static-$(date +%s)"
LOCATION="Central US"

echo "üìã Configuration:"
echo "   Resource Group: $RESOURCE_GROUP"
echo "   Static App Name: $STATIC_APP_NAME"
echo "   Cost: FREE"

# –ü–µ—Ä–µ–∫–ª—é—á–∞—î–º–æ—Å—è –Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—É –ø—ñ–¥–ø–∏—Å–∫—É
az account set --subscription "826d896f-b844-48c3-998e-c8e36c27e681"

# –°—Ç–≤–æ—Ä—é—î–º–æ resource group
echo "üèóÔ∏è Creating resource group..."
az group create --name $RESOURCE_GROUP --location "$LOCATION"

# –î–ª—è Static Web Apps –ø–æ—Ç—Ä—ñ–±–µ–Ω GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
echo "üìù Note: This requires a GitHub repository with your code."
echo "Please ensure your code is pushed to GitHub first."

read -p "Enter your GitHub repository URL (https://github.com/username/repo): " GITHUB_REPO

if [ -z "$GITHUB_REPO" ]; then
    echo "‚ùå GitHub repository URL is required"
    exit 1
fi

# –°—Ç–≤–æ—Ä—é—î–º–æ —Å—Ç–∞—Ç–∏—á–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
cat > staticwebapp.config.json << 'EOF'
{
  "routes": [
    {
      "route": "/static/*",
      "headers": {
        "cache-control": "public, max-age=31536000, immutable"
      }
    },
    {
      "route": "/*",
      "serve": "/index.html",
      "statusCode": 200
    }
  ],
  "responseOverrides": {
    "404": {
      "redirect": "/index.html",
      "statusCode": 200
    }
  }
}
EOF

# –°—Ç–≤–æ—Ä—é—î–º–æ GitHub Actions workflow
mkdir -p .github/workflows
cat > .github/workflows/azure-static-web-apps.yml << 'EOF'
name: Azure Static Web Apps CI/CD

on:
  push:
    branches: [ main ]
  pull_request:
    types: [opened, synchronize, reopened, closed]
    branches: [ main ]

jobs:
  build_and_deploy_job:
    if: github.event_name == 'push' || (github.event_name == 'pull_request' && github.event.action != 'closed')
    runs-on: ubuntu-latest
    name: Build and Deploy Job
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true
      
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.12'
      
      - name: Install dependencies
        run: |
          pip install -r requirements.txt
      
      - name: Collect static files
        run: |
          python manage.py collectstatic --noinput
      
      - name: Build And Deploy
        id: builddeploy
        uses: Azure/static-web-apps-deploy@v1
        with:
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN }}
          repo_token: ${{ secrets.GITHUB_TOKEN }}
          action: "upload"
          app_location: "/"
          api_location: ""
          output_location: "hello_world/staticfiles"

  close_pull_request_job:
    if: github.event_name == 'pull_request' && github.event.action == 'closed'
    runs-on: ubuntu-latest
    name: Close Pull Request Job
    steps:
      - name: Close Pull Request
        id: closepullrequest
        uses: Azure/static-web-apps-deploy@v1
        with:
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN }}
          action: "close"
EOF

echo "‚úÖ Configuration files created!"
echo ""
echo "üìã Next steps:"
echo "1. Commit and push these files to your GitHub repository"
echo "2. Go to Azure Portal ‚Üí Create Resource ‚Üí Static Web Apps"
echo "3. Connect your GitHub repository"
echo "4. Azure will automatically deploy your app"
echo ""
echo "üí∞ Cost: FREE (with 100GB bandwidth/month)"

```


### **üí° –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ —Ä—ñ—à–µ–Ω–Ω—è:**

–°–ø—Ä–æ–±—É–π—Ç–µ **—Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—É –ø—ñ–¥–ø–∏—Å–∫—É** –≤ —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–≥—ñ–æ–Ω–∞—Ö - —É –Ω–µ—ó –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–≤–æ—Ç–∞:

```bash
az account set --subscription "Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è"
./deploy-multi-region.sh
```

**–Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Å–ø—Ä–æ–±—É—î—Ç–µ?** –°—Ç—É–¥–µ–Ω—Ç—Å—å–∫—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ –∑–∞–∑–≤–∏—á–∞–π –º–∞—é—Ç—å –±—ñ–ª—å—à–µ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤!

--------------------------------------------------------------------------------


–ü–æ–º–∏–ª–∫–∞ –≤–∏–Ω–∏–∫–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–ª–µ–º–∏ –∑ Docker Hub (`An error response is received from the docker registry 'index.docker.io'`). –î–∞–≤–∞–π—Ç–µ —Å–ø—Ä–æ–±—É—î–º–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏:

## üéØ **–†—ñ—à–µ–Ω–Ω—è 1: Heroku (–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ —ñ –Ω–∞–¥—ñ–π–Ω–µ)**

Heroku - –Ω–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–µ –º–∞—î –ø—Ä–æ–±–ª–µ–º –∑ –∫–≤–æ—Ç–∞–º–∏ Azure:

```bash
chmod +x deploy-heroku.sh
./deploy-heroku.sh
```

---

## üîÑ **–†—ñ—à–µ–Ω–Ω—è 2: –°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—É –ø—ñ–¥–ø–∏—Å–∫—É –∑ Container Instances**## üåê **–†—ñ—à–µ–Ω–Ω—è 3: Azure Static Web Apps (–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)**---

## ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**

### **üéØ –ù–∞–π–∫—Ä–∞—â—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É:**

1. **Heroku (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ):**
```bash
chmod +x deploy-heroku.sh
./deploy-heroku.sh
```

2. **–°—Ç—É–¥–µ–Ω—Ç—Å—å–∫–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:**
```bash
chmod +x deploy-student-subscription.sh
./deploy-student-subscription.sh
```

3. **Static Web Apps (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ):**
```bash
chmod +x deploy-static-simple.sh
./deploy-static-simple.sh
```

---

## üí° **–ß–æ–º—É –Ω–µ –ø—Ä–∞—Ü—é—î Container Instances:**

1. **Docker Hub –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π** –≤ —Ü–µ–π –º–æ–º–µ–Ω—Ç
2. **–ö–≤–æ—Ç–∏ Azure** –¥–ª—è VM –æ–±–º–µ–∂–µ–Ω—ñ
3. **–ü—Ä–æ–±–ª–µ–º–∏ –∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—î—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤**

### **Heroku - –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç:**
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
- ‚úÖ –ë–µ–∑ –ø—Ä–æ–±–ª–µ–º –∑ –∫–≤–æ—Ç–∞–º–∏
- ‚úÖ –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ Django
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

**–Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —Å–ø—Ä–æ–±—É—î—Ç–µ?** –†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—á–∞—Ç–∏ –∑ Heroku!


---------------------------------------------------------------------------------------------










